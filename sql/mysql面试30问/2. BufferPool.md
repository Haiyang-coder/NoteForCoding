# 介绍一下Buffer Pool

他是一个缓冲池，用来缓存表的数据和索引的数据，减少磁盘io

Buffer Pool是由：**缓存数据页（Page）**还有对数据页进行描述的**控制块组**成的

默认pool是128M，以page页为单位，控制块一般5%（不占128）

## 缓存数据页

pool里面的页有：索引页，数据页，undo页，自适应哈希索引，插入缓存页，锁信息。

innodb 会将数据以页为单位作为磁盘和内存交互的基本单位，一个页大小默认为16kb。

## 控制块

存储着缓存页所属的表空间信息，数据库编号，控制块对应缓存页在pool中的地址信息



## 如何看需要的数据页是否在buffer pool

有一个hash表数据结构，使用表空间号+数据页编号作为key，value就是控制块。我们想访问数据的时候先看一下是否有这个控制块

1. 如果有直接使用
2. 如果没有，申请一个缓冲页，进行磁盘io，加载到空闲的缓冲页中