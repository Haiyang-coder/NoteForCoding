# 音频的水印

## 评价标准

**1.不可感知性（Imperceptibility）** 音频水印首先要做到的是不可感知，当嵌入水印信息后音频的质量不能发生明显下降。由于“感知”是比较主观的，所以在音频水印领域有众多描述指标，其中最常用的是信噪比（Signal-Noise Ratio, SNR）与 PESQ（Perceptual Evaluation of Speech Quality）。一般认为 SNR > 35 dB、PESQ > 4.0 代表较好的音频质量，但是数值评判并不是很准确，评估不可感知性最靠谱的方法是去实际听一听。

**2.容量（Capacity）** 在向音频中执行嵌入时，所嵌入的内容是由0、1构成的比特序列。容量描述平均每秒，声音可以嵌入的比特数，因此其单位是 bps（bit per second）。对于容量要看使用者的具体要求，在唱片行业中推荐的最低容量标准是20 bps，然而对于长达小时级别的音频，使用1 bps的容量也是可行的。

**3.鲁棒性（Robustness）** 将解码出的比特序列与原始比特序列计算错误率（Bit Error Rate，BER），通常要求水印算法BER<10%，从而能够进一步依靠额外的纠错技术（例如：纠错码）来达到零错误率。



不可感知性、容量、鲁棒性这三个指标之间存在相互制约关系，因此也被称为 “不可能三角”。例如对于一个水印算法而言，为了实现良好的不可感知性，对宿主音频的修改就不能太多→降低鲁棒性，或者减少嵌入的信息量→损害嵌入容量。因此，在满足“不可感知性”要求后，在鲁棒性与容量之间的取舍取决于最终的应用需求。

## 传统的音频水印

- 最低有效位

  “最低有效位”是直接对音频文件进行修改，例如 .wav音频文件读取后是一系列反应声音振幅的采样点，最低有效位方法将这些采样点以二进制表示，在二进制表示的最低位上进行嵌入——如果最低位值与要编码的比特内容不一致则进行bit反转：

- 回声隐藏

  通过在宿主音频中添加回声信息来编码信息：假定宿主信号为 f(t) ，则回声信号可以通过 αf(t−k) 表示，其中k是个固定的时延（比如10毫秒）， α 是个衰减系数；将回声与宿主信号叠加即可得到水印音频信号

- 短时傅里叶变换

  可以通过修改振幅或相位统计量来嵌入水印信息，如果是修改相位就是“相位编码”（Phase Encoding），如果修改振幅就是“振幅编码”。

- 离散余弦变换

## 神经网络音频水印（不理解）

- Robust-DNN

- DeAR（2023）
- WavMark（2023）

Robust-DNN、完成了神经网络音频水印的可行性验证；DeAR提高了嵌入容量并、扩充了攻击类型；而WavMark进一步提高了不可感知性、并解决了水印解码时的定位问题，使得神经网络音频水印能够被真正应用于现实环境。

## 工具

- 现在有的传统方式（短时傅里叶变换）的源码有：https://github.com/swesterfeld/audiowmark，基于c++实现

- 神经网络水印：https://github.com/wavmark/wavmark



## 总结：

我现在的解决问题是怎么插入的问题，用传统方式或者最新的神经网络的方式。没有涉及到，音频的随机内容怎么生成。或者说是怎么根据原始音频生成同模态的音频文件

