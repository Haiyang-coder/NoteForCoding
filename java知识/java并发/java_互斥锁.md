[TOC]
# 用互斥锁解决原子性问题
因为原子性的问题产生的原因是因为线程中断引起的,但是我们不能禁止线程的中断而且在多核的现在,高位地址和地位地址的写入可能在不同的cpu上进行,就算禁止了一个cpu的线程中断也不能达到原子性.但是保证了<font color=red>对共享变量同一时刻只有一个线程在修改</font>,那么我们就能实现原子性.

## 1.java提供的锁的技术synchronized
>synchronized加锁和解锁的对象是可以自己指定的,如果不指定也会有默认值
- <font color=red>当修饰静态方法的时候,锁定的是class对象</font>
- <font color=red>修饰非静态方法的时候,锁定的对象就是this</font>
  
## 2.锁和受保护资源的关系
>结论<font color=red>一把锁可以保护多个资源,但是多把锁不能保护一个资源</font>:原因也靠理解,多把锁,保护一个的话,不同锁之间不能保证了可见性.

## 3.如何做到一把锁保护多个资源

### (1)保护没有关联性的多个资源
### (2)保护有关联性的多个资源